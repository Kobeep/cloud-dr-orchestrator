jobs:
    # PostgreSQL Database Backups
    - name: daily-db-backup
      schedule: 0 0 * * *
      command: /usr/local/bin/orchestrator backup --type postgres --name prod-db --db-name myapp --db-host localhost --db-user postgres --db-password secret --encrypt && /usr/local/bin/orchestrator upload --file /tmp/backup-*.tar.gz.encrypted --bucket my-bucket --compartment ocid1.compartment.oc1..xxx
      env:
        BACKUP_ENCRYPTION_KEY: your-encryption-key-here
        PATH: /usr/local/bin:/usr/bin:/bin

    - name: weekly-db-backup
      schedule: 0 3 * * 0
      command: /usr/local/bin/orchestrator backup --type postgres --name prod-db-weekly --db-name myapp --db-host localhost --db-user postgres --db-password secret --encrypt
      env:
        BACKUP_ENCRYPTION_KEY: your-encryption-key-here

    # File & Config Backups
    - name: nginx-configs-backup
      schedule: 0 1 * * *
      command: /usr/local/bin/orchestrator backup --type files --name nginx-configs --source /etc/nginx --source /etc/ssl/nginx --encrypt
      env:
        BACKUP_ENCRYPTION_KEY: your-encryption-key-here
        PATH: /usr/local/bin:/usr/bin:/bin

    - name: app-data-backup
      schedule: 0 2 * * *
      command: /usr/local/bin/orchestrator backup --type files --name app-data --source /var/www/myapp --exclude "*.log" --exclude "tmp/*" --exclude "cache/*" --encrypt
      env:
        BACKUP_ENCRYPTION_KEY: your-encryption-key-here
        PATH: /usr/local/bin:/usr/bin:/bin

    - name: system-configs-backup
      schedule: 0 4 * * 0
      command: /usr/local/bin/orchestrator backup --type files --name system-configs --source /etc/systemd --source /etc/cron.d --source /root/.ssh --encrypt
      env:
        BACKUP_ENCRYPTION_KEY: your-encryption-key-here
        PATH: /usr/local/bin:/usr/bin:/bin

    - name: ssl-certs-backup
      schedule: 0 3 1 * *
      command: /usr/local/bin/orchestrator backup --type files --name ssl-certs --source /etc/letsencrypt --encrypt
      env:
        BACKUP_ENCRYPTION_KEY: your-encryption-key-here
        PATH: /usr/local/bin:/usr/bin:/bin
